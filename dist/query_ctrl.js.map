{"version":3,"sources":["../src/query_ctrl.js"],"names":["GenericDatasourceQueryCtrl","$scope","$injector","scope","default_mp","default_task","target","mp","task","rawQuery","panelCtrl","refresh","QueryCtrl","templateUrl"],"mappings":";;;;;;;;;AAAA;;AACA;;;;;;;;IAEaA,0B,WAAAA,0B;;;AAEX,sCAAYC,MAAZ,EAAoBC,SAApB,EAAgC;AAAA;;AAAA,wJACxBD,MADwB,EAChBC,SADgB;;AAG9B,UAAKC,KAAL,GAAaF,MAAb;;AAEA,QAAIG,aAAa,SAAjB;AACA,QAAIC,eAAe,SAAnB;;AAEA,UAAKC,MAAL,CAAYC,EAAZ,GACI,MAAKD,MAAL,CAAYC,EAAZ,IAAkBH,UADtB;AAEA,UAAKE,MAAL,CAAYE,IAAZ,GACI,MAAKF,MAAL,CAAYE,IAAZ,IAAoBH,YADxB;AAV8B;AAY/B;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;uCAEqB;AACjB,WAAKC,MAAL,CAAYG,QAAZ,GAAuB,CAAC,KAAKH,MAAL,CAAYG,QAApC;AACD;;;uCAEkB;AACjB,WAAKC,SAAL,CAAeC,OAAf,GADiB,CACS;AAC3B;;;;EA/F6CC,c;;AAkGhDZ,2BAA2Ba,WAA3B,GAAyC,4BAAzC","file":"query_ctrl.js","sourcesContent":["import {QueryCtrl} from 'app/plugins/sdk';\nimport './css/query-editor.css!'\n\nexport class GenericDatasourceQueryCtrl extends QueryCtrl {\n\n  constructor($scope, $injector)  {\n    super($scope, $injector);\n\n    this.scope = $scope;\n\n    var default_mp = 'not set';\n    var default_task = 'not set';\n\n    this.target.mp =\n        this.target.mp || default_mp;\n    this.target.task =\n        this.target.task || default_task;\n  }\n\n//   getOptions(measurement_type, option_name) {\n//     var $options = [];\n// \n//     if (measurement_type == 'latency' && option_name == 'packet-timeout') {\n//         $options = [\n//             {text: '0', value: 0},\n//             {text: '.1', value: .1},\n//             {text: '1.0', value: 1.0}\n//         ];\n//     }\n//     if (measurement_type == 'latency' && option_name == 'packet-count') {\n//         $options = [\n//             {text: '10', value: 10},\n//             {text: '50', value: 50},\n//             {text: '100', value: 100},\n//             {text: '250', value: 250}\n//         ];\n//     }\n//     if (measurement_type == 'latency' && option_name == 'packet-interval') {\n//         $options = [\n//             {text: '.05', value: .05},\n//             {text: '.1', value: .1},\n//             {text: '.5', value: .5},\n//             {text: '1.0', value: 1.0}\n//         ];\n//     }\n// \n//     if (measurement_type == 'throughput' && option_name == 'duration') {\n//         $options = [\n//             {text: '5s', value: 'PT5S'},\n//             {text: '10s', value: 'PT10S'},\n//             {text: '30s', value: 'PT30S'}\n//         ];\n//     }\n// \n//     if (option_name == 'source' || option_name == 'destination') {\n//         $options = [\n//             {text: 'psmall-b-3.basnet.by', value: 'psmall-b-3.basnet.by'},\n//             {text: 'psmall-b-2.basnet.by', value: 'psmall-b-2.basnet.by'},\n//         ];\n//     }\n// \n//     if (option_name == 'ip-version') {\n//         $options = [\n//             {text: 'ipv4', value: 4},\n//             {text: 'ipv6', value: 6},\n//         ];\n//     }\n// \n//     if (option_name == 'test-type') {\n//         $options = [\n//             {text: 'latency', value: 'latency'},\n//             {text: 'throughput', value: 'throughput'}\n//         ];\n//     }\n// \n//     if (option_name == 'panel-type') {\n//         $options = [\n//             {text: 'timeseries', value: 'timeseries'},\n//             {text: 'table', value: 'table'}\n//         ];\n//     }\n// \n//     return $options;\n// \n// /*\n//     return this.datasource.metricFindQuery({\n//         type: type_name,\n//         option: option_name\n//     });\n// */\n//   }\n\n  toggleEditorMode() {\n    this.target.rawQuery = !this.target.rawQuery;\n  }\n\n  onChangeInternal() {\n    this.panelCtrl.refresh(); // Asks the panel to refresh data.\n  }\n}\n\nGenericDatasourceQueryCtrl.templateUrl = 'partials/query.editor.html';\n\n"]}